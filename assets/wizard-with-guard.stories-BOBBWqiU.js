import{r as c,j as t}from"./index-C3wzQlZL.js";import{s as a,d as p}from"./setup-uVdBVLT6.js";import{I as m}from"./InputField-QWswlH68.js";import{C as x}from"./CheckboxField-wodlmLZN.js";const w={title:"Mixed"},[g,l]=a({fieldMapping:p({text:m,checkbox:x}),i18nConfig:{validationTranslation:{required:"field.required",minLength:"field.minLength"},t:(s,e)=>{switch(s){case"field.required":return`${e==null?void 0:e.field} is required`;case"field.minLength":return`${e==null?void 0:e.field} must be at least ${e==null?void 0:e.minLength} characters`;default:return s}}}}),L=()=>{const s=c.useRef(null),[e,o]=c.useState(0),u=e===0,d=e===2,f=async()=>{if(!s.current)return;let i=[];e===0&&(i=["account.email","account.password"]),e===1&&(i=["profile.firstName","profile.lastName"]),await s.current.trigger(i)&&o(r=>r+1)};return t.jsx(g,{ref:s,renderRoot:({children:i,onSubmit:n})=>t.jsxs("form",{onSubmit:n,children:[t.jsx("div",{style:{marginBottom:16},children:t.jsxs("strong",{children:["Step ",e+1," / 3"]})}),i,t.jsxs("div",{style:{marginTop:24},children:[t.jsx("button",{type:"button",disabled:u,onClick:()=>o(r=>r-1),children:"Back"}),!d&&t.jsx("button",{type:"button",style:{marginLeft:8},onClick:f,children:"Next"}),d&&t.jsx("button",{type:"submit",style:{marginLeft:8},children:"Submit"})]})]}),onSubmit:i=>{alert(JSON.stringify(i,null,2))},formProps:{mode:"onChange"},config:l({account:{type:"group",label:"Account",visible:()=>e===0,render:({children:i,fieldProps:{label:n,visible:r}})=>r&&t.jsxs("fieldset",{children:[t.jsx("legend",{children:n}),i]}),props:{config:l({email:{type:"text",label:"Email",rules:{required:!0}},password:{type:"text",label:"Password",rules:{required:!0,minLength:6},props:{type:"password"}}})}},profile:{type:"group",label:"Profile",visible:()=>e===1,render:({children:i,fieldProps:{label:n,visible:r}})=>r&&t.jsxs("fieldset",{children:[t.jsx("legend",{children:n}),i]}),props:{config:l({firstName:{type:"text",label:"First name",rules:{required:!0}},lastName:{type:"text",label:"Last name",rules:{required:!0}}})}},preferences:{type:"group",label:"Preferences",visible:()=>e===2,render:({children:i,fieldProps:{label:n,visible:r}})=>r&&t.jsxs("fieldset",{children:[t.jsx("legend",{children:n}),i]}),props:{config:l({newsletter:{type:"checkbox",label:"Subscribe to newsletter"}})}}})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{L as WizardWithValidationGuard,w as default};
